docker run -it --rm \
	-v ~/Dev/fipro/data:/data \
	-v ~/Dev/fipro/sensor/docker/fluentbit/conf:/fluent-bit/etc \
	fluent/fluent-bit:0.12


docker run -d -p 1883:1883 -p 9001:9001 \
	-v /path/to/mqtt/config/:/mosquitto/config/ \
	-v /path/to/fipro/server/mqtt/data/:/mosquitto/data/ \
	-v /path/to/fipro/server/mqtt/log/:/mosquitto/log/ \
	-v /path/to/fipro/server/mqtt/auth:/etc/mosquitto/auth \
	--name mqtt-broker eclipse-mosquitto

docker run -it --rm -p 24224:24224 \
	-v /path/to/fluentd/conf:/fluentd/etc \
	--link mongodb --link mqtt-broker --name aggregator ardikabs/fluentd

docker run -d -v /data/db:/data/db \
	--name mongodb -p 27017:27017 mongo


docker run -d -p 80:5000 -v /path/to/project:/project \
		-v /var/run/:/var/run --name fipro-agent ardikabs/fipro-agent
		
docker run -d -v /path/to/collector:/collector --name mqtt-subscriber ardikabs/mqtt-subs


type counter:
	- attack.daily.stats
	- attacked.port.stats
	- honeypot.events.count
	- credential.count

type metric:
	- Top 10 ASN
	- Top 10 Countries and port
	- Top 10 Countries
	- Top 10 Source IP

type windowing:
	- Honeypot events (Events Statistics)
	- Honeypot events of sensor (Sensor Statistics)
	- Honeypot events of agents (Agent Statistics)
	- Honeypot events based port (Destination Port Statistics)
	- Honeypot events based countries (Countries Attacker Statistics)


	wget <script_url> -O deploy.sh \
		&& sudo bash deploy.sh <server_url> <api_key> <deploy_key>; sudo rm -rf deploy.sh


docker run -it --rm \
	-v /data/:/data/ \
	-v ~/Dev/fipro-agent/docker/fluentbit/conf:/fluent-bit/etc \
	fluent/fluent-bit:0.12

docker run -d -p 1883:1883 -p 9001:9001 \
	-v ~/Dev/fipro-core/mqtt/config/:/mosquitto/config/ \
	-v ~/Dev/fipro-core/mqtt/data/:/mosquitto/data/ \
	-v ~/Dev/fipro-core/mqtt/log/:/mosquitto/log/ \
	-v ~/Dev/fipro-core/mqtt/auth:/etc/mosquitto/auth \
	--name mqtt-broker eclipse-mosquitto

docker run -it --rm -p 24224:24224 \
	-v ~/Dev/fipro-core/docker/fluentd/conf:/fluentd/etc \
	--link mongodb --link mqtt-broker --name aggregator ardikabs/fluentd

docker run -d -v ~/Dev/fipro-core/docker/mqtt-subs/collector:/collector --name mqtt-subscriber --link mqtt-broker ardikabs/mqtt-subs

docker run -d -p 5000:5000 -v ~/Dev/fipro-agent/docker/agent/project:/project \
	-v /var/run/:/var/run --name fipro-agent ardikabs/fipro-agent

gunicorn --worker-class eventlet -w 1 -b 0.0.0.0:8000 wsgi